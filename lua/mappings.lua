local keymap = vim.keymap

-- Norman Keyboard Layout
keymap.set('n', 'd', 'e')
keymap.set('n', 'f', 'r')
keymap.set('n', 'k', 't')

keymap.set('n', 'j', 'y')
keymap.set('n', 'r', 'i')
keymap.set('n', 'l', 'o')
keymap.set('n', 'e', 'd')
keymap.set('n', 't', 'f')
keymap.set('n', 'y', 'h')
keymap.set('n', 'n', 'j')
keymap.set('n', 'i', 'k')
keymap.set('n', 'o', 'l')
keymap.set('n', 'p', 'n')
keymap.set('n', 'h', 'p')
keymap.set('n', 'D', 'E')
keymap.set('n', 'F', 'R')
keymap.set('n', 'K', 'T')
keymap.set('n', 'J', 'Y')
keymap.set('n', 'R', 'I')
keymap.set('n', 'L', 'O')
keymap.set('n', 'E', 'D')
keymap.set('n', 'T', 'F')
keymap.set('n', 'Y', 'H')
keymap.set('n', 'N', 'J')
keymap.set('n', 'I', 'K')
keymap.set('n', 'O', 'L')
keymap.set('n', 'P', 'N')
keymap.set('n', 'H', 'P')

keymap.set('o', 'd', 'e')
keymap.set('o', 'f', 'r')
keymap.set('o', 'k', 't')
keymap.set('o', 'j', 'y')
keymap.set('o', 'r', 'i')
keymap.set('o', 'l', 'o')
keymap.set('o', 'e', 'd')
keymap.set('o', 't', 'f')
keymap.set('o', 'y', 'h')
keymap.set('o', 'n', 'j')
keymap.set('o', 'i', 'k')
keymap.set('o', 'o', 'l')
keymap.set('o', 'p', 'n')
keymap.set('o', 'h', 'p')
keymap.set('o', 'D', 'E')
keymap.set('o', 'F', 'R')
keymap.set('o', 'K', 'T')
keymap.set('o', 'J', 'Y')
keymap.set('o', 'R', 'I')
keymap.set('o', 'L', 'O')
keymap.set('o', 'E', 'D')
keymap.set('o', 'T', 'F')
keymap.set('o', 'Y', 'H')
keymap.set('o', 'N', 'J')
keymap.set('o', 'I', 'K')
keymap.set('o', 'O', 'L')
keymap.set('o', 'P', 'N')
keymap.set('o', 'H', 'P')

keymap.set('x', 'd', 'e')
keymap.set('x', 'f', 'r')
keymap.set('x', 'k', 't')
keymap.set('x', 'j', 'y')
keymap.set('x', 'r', 'i')
keymap.set('x', 'l', 'o')
keymap.set('x', 'e', 'd')
keymap.set('x', 't', 'f')
keymap.set('x', 'y', 'h')
keymap.set('x', 'n', 'j')
keymap.set('x', 'i', 'k')
keymap.set('x', 'o', 'l')
keymap.set('x', 'p', 'n')
keymap.set('x', 'h', 'p')
keymap.set('x', 'D', 'E')
keymap.set('x', 'F', 'R')
keymap.set('x', 'K', 'T')
keymap.set('x', 'J', 'Y')
keymap.set('x', 'R', 'I')
keymap.set('x', 'L', 'O')
keymap.set('x', 'E', 'D')
keymap.set('x', 'T', 'F')
keymap.set('x', 'Y', 'H')
keymap.set('x', 'N', 'J')
keymap.set('x', 'I', 'K')
keymap.set('x', 'O', 'L')
keymap.set('x', 'P', 'N')
keymap.set('x', 'H', 'P')

keymap.set('n', 'ee', _G.smart_dd, { noremap = true, expr = true })

keymap.set('n', ']z', 'zj')
keymap.set('n', '[z', 'zk')

keymap.set('v', '<', '<gv')
keymap.set('v', '>', '>gv')

keymap.set('i', '<C-d>', [[<CMD>lua require'luasnip'.jump(1)<CR>]])
keymap.set('s', '<C-d>', [[<CMD>lua require'luasnip'.jump(1)<CR>]])
keymap.set('i', '<C-u>', [[<CMD>lua require'luasnip'.jump(-1)<CR>]])
keymap.set('s', '<C-u>', [[<CMD>lua require'luasnip'.jump(-1)<CR>]])

keymap.set('i', '<C-a>', '<Esc>^i')
keymap.set('i', '<C-e>', '<Esc>$a')

keymap.set('n', '<C-a>', '<Plug>(dial-increment)')
keymap.set('n', '<C-e>', '<Plug>(dial-decrement)')
keymap.set('v', '<C-a>', '<Plug>(dial-increment)')
keymap.set('v', '<C-e>', '<Plug>(dial-decrement)')
keymap.set('v', 'g<C-a>', '<Plug>(dial-increment-additonal)')
keymap.set('v', 'g<C-e>', '<Plug>(dial-decrement-additonal)')

-- Plugin
keymap.set('n', '<Tab>', '<CMD>BufferLineCycleNext<CR>')
keymap.set('n', '<S-Tab>', '<CMD>BufferLineCyclePrev<CR>')

keymap.set('n', '<A-n>', '<CMD>MoveLine(1)<CR>')
keymap.set('n', '<A-i>', '<CMD>MoveLine(-1)<CR>')
keymap.set('v', '<A-n>', '<CMD>MoveBlock(1)<CR>')
keymap.set('v', '<A-i>', '<CMD>MoveBlock(-1)<CR>')
keymap.set('n', '<A-o>', '<CMD>MoveHChar(1)<CR>')
keymap.set('n', '<A-y>', '<CMD>MoveHChar(-1)<CR>')
keymap.set('v', '<A-o>', '<CMD>MoveHBlock(1)<CR>')
keymap.set('v', '<A-y>', '<CMD>MoveHBlock(-1)<CR>')

keymap.set('n', 'w', '<Plug>WordMotion_w')
keymap.set('n', 'W', '<Plug>WordMotion_W')
keymap.set('n', 'b', '<Plug>WordMotion_b')
keymap.set('n', 'B', '<Plug>WordMotion_B')
keymap.set('n', 'd', '<Plug>WordMotion_e')
keymap.set('n', 'D', '<Plug>WordMotion_d')

keymap.set('n', ']d', '<CMD>lua vim.diagnostic.goto_next()<CR>')
keymap.set('n', '[d', '<CMD>lua vim.diagnostic.goto_prev()<CR>')

keymap.set('n', 'gd', '<CMD>Telescope lsp_definitions<CR>')
keymap.set('n', 'gr', '<CMD>Telescope lsp_references<CR>')
keymap.set('n', 'gi', '<CMD>Telescope lsp_implementations<CR>')
keymap.set('n', 'gh', '<CMD>Telescope registers<CR>')

keymap.set('n', 'gw', '<CMD>HopWord<CR>')
keymap.set('n', 'gl', '<CMD>HopLine<CR>')
keymap.set('n', 'gs', '<CMD>HopChar2<CR>')
keymap.set('v', 'gw', '<CMD>HopWord<CR>')
keymap.set('v', 'gl', '<CMD>HopLine<CR>')
keymap.set('v', 'gs', '<CMD>HopChar2<CR>')

keymap.set('n', '<F1>', ':FloatermToggle<CR>')
keymap.set('t', '<F1>', '<C-\\><C-n>:FloatermToggle<CR>')
keymap.set('t', '<Esc>', '<C-\\><C-n>')
keymap.set('t', '<C-t>', '<C-\\><C-n>:FloatermNew<CR>')
keymap.set('t', '<C-n>', '<C-\\><C-n>:FloatermNext<CR>')
keymap.set('t', '<C-p>', '<C-\\><C-n>:FloatermPrev<CR>')

keymap.set('n', '<F2>', ':NvimTreeToggle<CR>')
keymap.set('n', '<F3>', '<CMD>LSoutlineToggle<CR>')


keymap.set('n', '<F5>', [[<CMD>lua require('dap').continue()<CR>]])
keymap.set('n', '<F6>', [[<CMD>lua require('dap').close()<CR>]])
keymap.set('n', '<F7>', [[<CMD>lua require('dapui').toggle()<CR>]])
keymap.set('n', '<F8>', [[<CMD>lua require('dap').toggle_breakpoint()<CR>]])
keymap.set('n', '<F9>', [[<CMD>lua require('dap').step_over()<CR>]])
keymap.set('n', '<F10>', [[<CMD>lua require('dap').step_into()<CR>]])
keymap.set('n', '<F11>', [[<CMD>lua require('dap').step_out()<CR>]])
keymap.set('n', '<F12>', [[<CMD>lua require('dap').run_to_cursor()<CR>]])

-- Leader Key config in lua/configs/whichkey.lua

vim.api.nvim_create_autocmd('filetype', {
    pattern = 'netrw',
    callback = function()
        keymap.set('n', 'n', 'j', { buffer = true })
        keymap.set('n', 'i', 'k', { buffer = true })
        keymap.set('n', 'y', 'h', { buffer = true })
        keymap.set('n', 'o', 'l', { buffer = true })
    end,
})

vim.api.nvim_create_autocmd('filetype', {
    pattern = 'markdown',
    callback = function()
        keymap.set('n', '<CR>', [[:lua require('telekasten').follow_link()<CR>]])
    end,
})
